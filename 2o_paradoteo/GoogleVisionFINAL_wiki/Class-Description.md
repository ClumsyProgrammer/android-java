## Περιγραφή των κλάσεων

  Γενική δομή της Android εφαρμογής
- GoogleVision
  - Activities -> Activities της εφαρμογής και fragment ρυθμίσεων online λειτουργείας.
        - **MainActivity** -> Εκκινεί την εφαρμογή: Τοποθετεί τα γραφικά στοιχεία βάσει layout, ανασύρει από τα shared preferences προηγούμενες ρυθμίσεις, καλεί τα κατάλληλα fragments και δίνει εντολή εκκίνησης των δύο services της εφαρμογής: SensorService και VisionService. Επίσης αρχικοποιείται και ο χειριστής συνδεσιμότητας.
        - **OnlineSettingsFragment** -> Τοποθετεί τα γραφικά στοιχεία με τους αντίστοιχους listeners για την παραμετροποίηση της online λειτουργείας: διεύθυνση και θύρα broker και κουμπί επαναδημοσίευσης διαθεσιμότητας.
        - **SettingsActivity** -> Δοχείο ρυθμίσεων της εφαρμογής. Καλεί τα κατάλληλα fragments σύμφωνα με την τρέχουσα κατάσταση: online ή offline.
  - CollisionTools -> Εργαλεία για την ανίχνευση σύγκρουσης.
        - **Collision_Settings** -> Αποθήκευση των  offline ρυθμίσεων της εφαρμογής σε ζεύγη key-value.
        - **CollisionNotifier** -> Συγκέντρωση όλων των σημάτων κινδύνου από όλους τους σένσορες και υπολογισμός μια μοναδικής σημαίας για την offline κατάσταση κινδύνου του τερματικού.
        - **OfflineNotify** -> Παράγει οπτική και ακουστική ειδοποίηση κινδύνου όταν η σημαία offline κινδύνου πάρει τιμή true.
        - **OnlineNotify** -> Παράγει οπτική και ακουστική ειδοποίηση κινδύνου όταν η σημαία online κινδύνου πάρει τιμή true.
        - **SensorService** -> Θέτει σε λειτουργεία τους διαθέσιμους και κατάλληλους αισθητήρες του τερματικού.
  - Connectivity -> Εργαλεία για τη σύνδεση του τερματικού στον mqtt broker.
        - **ConnectivityHandler** -> Διαχειρίζεται τις αλλαγές της συνδεσιμότητας και κάνει τις κατάλληλες αρχικοποιήσεις και ανανεώσεις.
        - **ConnectivitySettings** -> Αποθήκευση των  online ρυθμίσεων της εφαρμογής σε ζεύγη key-value.
        - **Mqtt_publisher** -> Δημοσιεύει μηνύματα στον broker σε αντίστοιχο θέμα. 
        - **Mqtt_subscriber** -> Εγγράφεται στα κατάλληλα θέματα και αναμένει εισερχόμενα μηνύματα, τα οποία και κατηγοροιοποιεί.
  - GoogleVision  -> Εργαλεία για τη χρήση του GoogleVision.
        - **NewCamera** -> Χειρισμός της κάμερας για sdk 18-20.
        - **OldCamera** -> Χειρισμός της κάμερας για sdk 21-24.
        - **PackageManagerUtils** -> Βοηθός σύνδεσης με  Google Cloud Platform API.
        - **PermissionUtils** -> Ερώτηση για τα κατάλληλα δικαιώματα.
        - **VisionService** -> Σε περίπτωση κινδύνου χειρίζεται την κατάλληλη κάμερα, αποστέλει την εικόνα στο Cloud, λαμβάνει τα αποτελέσματα και τα μετατρέπει σε φωνητική ειδοποίηση.
  - Sensors -> Αισθητήρες τερματικού.
        - AcceleratorSensorTools -> Αισθητήρας επιταχυνσιόμετρου.
            - **Accelerator_Sensor** -> Ερώτηση προς το σύστημα για τη διαθεσιμότητα του αισθητήρα και ανάθεση listener σε περίπτωση θετικής απάντησης. 
            - **AcceleratorFragment** -> Δοχείο προβολής μετρήσεων σε περίπτωση διαθεσιμότητας.
            - **SetAcceleratorFragment** -> Δοχείο προβολής παραμετροποιήσεων σε περίπτωση διαθεσιμότητας.
        - GPSTools -> Προσδιορισμός θέσης.
            - **GPS_Sensor** -> Ερώτηση προς το σύστημα για τη διαθεσιμότητα του αισθητήρα και ανάθεση listener σε περίπτωση θετικής απάντησης.
            - **GPSFragment** -> Δοχείο προβολής μετρήσεων σε περίπτωση διαθεσιμότητας.
            - **SetGPSFragment** -> Δοχείο προβολής παραμετροποιήσεων σε περίπτωση διαθεσιμότητας.
        - GyroscopeSensorTools -> Γυροσκόπιο.
            - **Gyroscope_Sensor** -> Ερώτηση προς το σύστημα για τη διαθεσιμότητα του αισθητήρα και ανάθεση listener σε περίπτωση θετικής απάντησης.
            - **GyroscopeFragment** -> Δοχείο προβολής μετρήσεων σε περίπτωση διαθεσιμότητας.
            - **SetGyroscopeFragment** -> Δοχείο προβολής παραμετροποιήσεων σε περίπτωση διαθεσιμότητας.
        - LightSensorTools -> Αισθητήρας φωτεινότητας περιβάλλοντος.
            - **Light_Sensor** -> Ερώτηση προς το σύστημα για τη διαθεσιμότητα του αισθητήρα και ανάθεση listener σε περίπτωση θετικής απάντησης.
            - **LightFragment** -> Δοχείο προβολής παραμετροποιήσεων σε περίπτωση διαθεσιμότητας.
            - **SetLightFragment** -> Δοχείο προβολής μετρήσεων σε περίπτωση διαθεσιμότητας.
        - LinearAcceleratorSensorTools -> Αισθητήρας γραμμικού επιταχυνσιόμετρου.
            - **Linear_Accelerator_Sensor** -> Ερώτηση προς το σύστημα για τη διαθεσιμότητα του αισθητήρα και ανάθεση listener σε περίπτωση θετικής απάντησης.
            - **LinearAcceleratorFragment** -> Δοχείο προβολής μετρήσεων σε περίπτωση διαθεσιμότητας.
            - **SetLinearAcceleratorFragment** -> Δοχείο προβολής παραμετροποιήσεων σε περίπτωση διαθεσιμότητας. 
        - ProximitySensorTools -> Αισθητήρας Εγγύτητας προς την οθόνη.
            - **Proximity_Sensor** -> Ερώτηση προς το σύστημα για τη διαθεσιμότητα του αισθητήρα και ανάθεση listener σε περίπτωση θετικής απάντησης.
            - **ProximityFragment** -> Δοχείο προβολής μετρήσεων σε περίπτωση διαθεσιμότητας.
            - **SetProximityFragment** -> Δοχείο προβολής παραμετροποιήσεων σε περίπτωση διαθεσιμότητας.





![GoogleVisionDiagram](/uploads/85603e1a366ba49134eb50a64df9be77/GoogleVisionDiagram.png)